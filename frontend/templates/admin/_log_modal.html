<!-- Generic Log Modal -->
<div id="logModal" class="flex items-center justify-center"
    style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; z-index: var(--z-modal); pointer-events: none;">
    <div style="position:absolute; inset:0; background:rgba(0,0,0,0.5); pointer-events: auto;"
        onclick="closeLogModal()"></div>
    <div class="card"
        style="width: 80%; max-width: 800px; max-height: 80vh; pointer-events: auto; position: relative; z-index: 2002; margin: 0; display: flex; flex-direction: column;">
        <h3 id="logModalTitle" style="margin-bottom: 1rem;">日誌詳情</h3>

        <div
            style="flex:1; overflow-y: auto; background: #f8f9fa; padding: 1rem; border-radius: var(--radius-sm); border: 1px solid var(--surface-border);">
            <pre id="logModalContent"
                style="white-space: pre-wrap; word-wrap: break-word; font-family: monospace; font-size: 0.85rem; margin: 0; color: #333;"></pre>
        </div>

        <div class="flex justify-end gap-2" style="margin-top: 1rem;">
            <button type="button" class="btn btn-primary btn-sm" onclick="closeLogModal()">關閉</button>
        </div>
    </div>
</div>

<script>
    function showLogModal(title, content) {
        document.getElementById('logModalTitle').innerText = title || 'Log Details';
        document.getElementById('logModalContent').innerText = content || 'No content';
        document.getElementById('logModal').style.display = 'flex';
        document.getElementById('logModal').style.pointerEvents = 'auto'; // Ensure it captures clicks
    }

    function closeLogModal() {
        document.getElementById('logModal').style.display = 'none';
    }
</script>